project: accounting-automation
version: 1.0.0
description: AI-driven accounting automation system for Japanese tax compliance

agents:
  - name: accounting-agent
    description: 会計処理・仕訳作成エージェント
    file: ./src/agents/accounting-agent.ts
    tools:
      - create_journal
      - process_transaction
      - create_invoice
      - generate_report
    
  - name: customer-agent
    description: 顧客管理エージェント
    file: ./src/agents/customer-agent.ts
    tools:
      - create
      - update
      - delete
      - search
      - analyze
    
  - name: database-agent
    description: データベース操作エージェント
    file: ./src/agents/database-agent.ts
    tools:
      - query
      - create
      - update
      - delete
      - backup
    
  - name: japan-tax-agent
    description: 日本税制対応エージェント
    file: ./src/agents/japan-tax-agent.ts
    tools:
      - calculate_tax
      - validate_invoice
      - check_compliance
      - generate_tax_report
    
  - name: ocr-agent
    description: OCR処理エージェント
    file: ./src/agents/ocr-agent.ts
    tools:
      - process_image
      - extract_invoice
      - extract_receipt
      - analyze_document
    
  - name: product-agent
    description: 商品管理エージェント
    file: ./src/agents/product-agent.ts
    tools:
      - create
      - update
      - delete
      - search
      - analyze_inventory
    
  - name: ui-agent
    description: UI操作エージェント
    file: ./src/agents/ui-agent.ts
    tools:
      - generate_form
      - create_dashboard
      - export_pdf
      - create_chart

workflows:
  - name: accounting-workflow
    description: 会計処理ワークフロー
    file: ./src/workflows/accounting-workflow.ts
    agents:
      - accounting-agent
      - database-agent
      - japan-tax-agent
    
  - name: compliance-workflow
    description: コンプライアンスチェック
    file: ./src/workflows/compliance-workflow.ts
    agents:
      - japan-tax-agent
      - database-agent
    
  - name: invoice-processing-workflow
    description: 請求書処理
    file: ./src/workflows/invoice-processing-workflow.ts
    agents:
      - ocr-agent
      - accounting-agent
      - database-agent

integrations:
  - mongodb:
      enabled: true
      connection_string: ${MONGODB_URI}
      database: accounting
      
  - openai:
      enabled: true
      api_key: ${OPENAI_API_KEY}
      model: gpt-4-turbo-preview
      
  - anthropic:
      enabled: true
      api_key: ${ANTHROPIC_API_KEY}
      model: claude-3-opus-20240229
      
  - azure:
      enabled: true
      form_recognizer:
        endpoint: ${AZURE_FORM_RECOGNIZER_ENDPOINT}
        key: ${AZURE_FORM_RECOGNIZER_KEY}

environment:
  NODE_ENV: production
  MASTRA_API_PORT: 3001
  MASTRA_API_SECRET: ${MASTRA_API_SECRET}
  LOG_LEVEL: info

deployment:
  runtime: nodejs20
  memory: 512MB
  timeout: 300s
  regions:
    - asia-northeast1  # Tokyo
  
monitoring:
  enabled: true
  metrics:
    - execution_time
    - error_rate
    - agent_usage
  alerts:
    - type: error_rate
      threshold: 0.05
      channel: email