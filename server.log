
> mastra-accounting-automation@1.0.1 dev
> next dev

  ▲ Next.js 14.2.21
  - Local:        http://localhost:3002
  - Environments: .env.local, .env

 ✓ Starting...
 ✓ Ready in 975ms
 ✓ Compiled /middleware in 166ms (117 modules)
 ✓ Compiled /api/health in 143ms (106 modules)
[2025-07-30T09:27:36.234Z] [DEBUG] Creating new MongoDB connection... 
[2025-07-30T09:27:36.235Z] [DEBUG] MongoDB URI configured: mongodb+srv://***:***@accounting-cluster.nld0j20.mongodb.net/accounting?retryWrites=true&w=majority&appName=accounting-cluster
[2025-07-30T09:27:36.239Z] [DEBUG] MongoDB connection check... 
[2025-07-30T09:27:37.044Z] [DEBUG] [MongoDB] Database name extracted from URI: "accounting" 
[2025-07-30T09:27:37.045Z] [DEBUG] [MongoDB] Database name extracted from URI: "accounting" 
[2025-07-30T09:27:37.045Z] [DEBUG] [MongoDB] Database name extracted from URI: "accounting" 
[2025-07-30T09:27:37.069Z] [DEBUG] MongoDB connection verified with ping 
[2025-07-30T09:27:37.267Z] [DEBUG] Reusing cached MongoDB connection 
[2025-07-30T09:27:37.271Z] [DEBUG] Reusing cached MongoDB connection 
[2025-07-30T09:27:37.303Z] [DEBUG] MongoDB connection successful 
 GET /api/health 503 in 1344ms
 ✓ Compiled /api/extract-company-info in 185ms (142 modules)
[2025-07-30T09:27:55.736Z] [DEBUG] [MongoDB] Database name extracted from URI: "accounting" 
[2025-07-30T09:27:55.736Z] [DEBUG] [MongoDB] Database name extracted from URI: "accounting" 
[2025-07-30T09:27:55.760Z] [DEBUG] Reusing cached MongoDB connection 
[2025-07-30T09:27:55.771Z] [DEBUG] Reusing cached MongoDB connection 
[2025-07-30T09:27:55.876Z] [INFO] Extracting company info from URL: https://abposter.jp/basic/tokusho.html
[2025-07-30T09:27:55.938Z] [DEBUG] HTML fetched successfully, length: 42637
[2025-07-30T09:27:55.940Z] [ERROR] AI extraction failed, falling back to regex parsing: {
  error: `Message with role "undefined" must have either a 'content' property (string or array) or a 'parts' property (array) that is not empty, null, or undefined. Received message: {\n` +
    '  "messages": [\n' +
    '    {\n' +
    '      "role": "user",\n' +
    `      "content": "以下のHTMLから会社情報を正確に抽出してJSON形式で返してください。\\n\\nHTMLコンテンツ:\\n<!DOCTYPE html>\\n<html lang=\\"ja\\">\\n<head>\\n\\t<meta charset=\\"UTF-8\\">\\n\\t<!-- Google Tag Manager -->\\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\n\\tnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\n\\tj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n\\t'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n\\t})(window,document,'script','dataLayer','GTM-NWVRFH67');</script>\\n\\t<!-- End Google Tag Manager -->\\n\\t<!-- Google Tag Manager -->\\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n})(window,document,'script','dataLayer','GTM-NK864D6K');</script>\\n    <!-- End Google Tag Manager -->\\n\\n\\t<!--GMO Google Tag Manager -->\\n    \\n    <!-- Yahoo Ad -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n    <!-- End Yahoo Ad -->\\n    \\n    <!-- Yahoo Ad -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\n</script>\\n    <!-- End Yahoo Ad -->\\n\\t<title>特定商取引法│ポスター印刷のABポスター</title>\\n\\t<meta name=\\"description\\" content=\\"ポスター印刷専門店のABポスターは、「当日印刷」、「当日発送」で、「ポスター印刷」と「タペストリー」最新鋭の印刷設備と技術で印刷いたします。16時まで当日発送のポスター印刷をご検討の際にはまず弊社にお声がけください。\\">\\n\\t<meta name=\\"keywords\\" content=\\"ポスター印刷,ポスター当日,ポスター作成,ポスター当日発送\\">\\n\\t<meta name=\\"viewport\\" content=\\"width=device-width,initial-scale=1\\">\\n\\t<!--※カートから直前のページに戻る※-->\\n\\t<meta name=\\"referrer\\" content=\\"no-referrer-when-downgrade\\">\\n\\t\\n\\t<link rel=\\"canonical\\" href=\\"https://abposter.jp/basic/kiyaku.html\\">\\n\\t<link rel=\\"stylesheet\\" href=\\"../css/poster_style.css\\" type=\\"text/css\\" media=\\"screen\\" />\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/tsuiki.min.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/style.min2402230216.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/style-hd.css?210608\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/h2h3.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/accordion.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/p_index.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/sidebanner240308.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/contents.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/test_print.css?ver1.6\\">\\n\\t<link rel=\\"stylesheet\\" href=\\"../css/ppbtn.css\\">\\n\\t\\n\\t<script src=\\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\\"></script>\\n\\t<script type=\\"text/javascript\\" src=\\"../js/img-switch.js\\"></script>\\n\\t<script src=\\"../js/iscroll.js\\"></script>\\n\\t<script src=\\"../js/drawer.min.js\\"></script>\\n\\t<script src=\\"../js/jquery.flexslider-min.js\\"></script>\\n\\t<script src=\\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js\\"></script>\\n\\t<script src=\\"../js/setting.js\\"></script>\\n\\n<!-- Yahoo Tag -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n<!-- End Yahoo Tag -->\\n\\n<style>\\n  .pc { display: block !important; }\\n  .sp { display: none !important; }\\n\\n  @media only screen and (max-width: 600px) {\\n  .pc { display: none !important; }\\n  .sp { display: block !important; }\\n}\\n</style>\\n\\n\\t<!--※※affiliate TAG※※-->\\n\\t<script src=\\"https://r.moshimo.com/af/r/maftag.js\\"></script>\\n</head>\\n\\n<body class=\\"drawer drawer--right drawer-responsive\\">\\n<!-- Google Tag Manager (noscript) -->\\n<noscript><iframe src=\\"https://www.googletagmanager.com/ns.html?id=GTM-NK864D6K\\"\\nheight=\\"0\\" width=\\"0\\" style=\\"display:none;visibility:hidden\\"></iframe></noscript>\\n<!-- End Google Tag Manager (noscript) -->\\n\\n<div class=\\"htop\\"><a href=\\"https://abposter.jp/\\"><h1 style=\\"display:inline\\">特定商取引法</h1></a>│ポスター印刷のABポスター</div>\\n\\n<!-- ハンバーガーボタン -->\\n<button type=\\"button\\" class=\\"drawer-toggle drawer-hamburger\\">\\n  <span class=\\"sr-only\\">toggle navigation</span>\\n  <span class=\\"drawer-hamburger-icon\\"></span>\\n    <span class=\\"dw-menu\\">MENU</span>\\n  </button>\\n \\n<!-- ナビゲーションの中身 -->\\n    <nav class=\\"drawer-nav\\" role=\\"navigation\\">\\n      <ul class=\\"drawer-menu\\">\\n        <li><a class=\\"drawer-brand\\" href=\\"https://abposter.jp/\\">HOME</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/login.php\\" target=\\"_blank\\">ログイン</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/newmem.php\\" target=\\"_blank\\">会員登録</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/cart.php\\" target=\\"_blank\\">カートを見る</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://abposter.jp/toiawase/toiawase.html\\">お問合せ</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://abposter.jp/mitsumori/mitsumori.html\\">お見積り</a></li>\\n\\n  \\t<!-- ポスター印刷  -->\\n        <li class=\\"drawer-dropdown\\">\\n    \\t  <a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">ポスター印刷<span class=\\"drawer-caret\\"></span></a>\\n          <ul class=\\"drawer-dropdown-menu\\">\\n            <li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/\\">ポスター印刷用紙一覧</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/gloss.html\\">厚手光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/h_gloss.html\\">厚手半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/yupo.html\\">合成紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/p_yupo.html\\">合成紙糊付き</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/photo.html\\">フォト光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/photo_p.html\\">フォトパール半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/film.html\\">電飾用バックライトフィルム</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/tarpo.html\\">屋内用ターポリン</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/cloth.html\\">防炎クロス</a></li>\\n          </ul>\\n        </li>\\n\\n    \\t<!-- 大判印刷 -->\\n\\t\\t\\t<li class=\\"drawer-dropdown\\">\\n\\t\\t\\t\\t<a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">大判印刷<span class=\\"icon_accordion-1\\"></span><span class=\\"icon_accordion-2\\"></span></a>\\n\\t\\t\\t\\t<ul class=\\"drawer-dropdown-menu\\">\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/page/wide\\">大判印刷用紙一覧</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_gloss.html\\">光沢フォトペーパー</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_parl.html\\">フォトパールペーパー</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_yupo.html\\">厚手ハイグレード合成紙</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_tarpo.html\\">ハイグレード防炎ターポリン</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_mesh.html\\">メッシュターポリン</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_blfilm.html\\">バックライトフィルム糊付き</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_s.html\\">短期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_m.html\\">中期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_l.html\\">長期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t</li>\\n\\n    \\t<!-- 学会ポスター印刷 -->\\n        <li class=\\"drawer-dropdown\\">\\n    \\t  <a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">学会ポスター印刷<span class=\\"drawer-caret\\"></span></a>\\n          <ul class=\\"drawer-dropdown-menu\\">\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_gloss.html\\">厚手光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_hgloss.html\\">厚手半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_photo.html\\">フォト光沢紙</a></li>\\`... 2592 more characters,
  stack: `Error: Message with role "undefined" must have either a 'content' property (string or array) or a 'parts' property (array) that is not empty, null, or undefined. Received message: {\n` +
    '  "messages": [\n' +
    '    {\n' +
    '      "role": "user",\n' +
    `      "content": "以下のHTMLから会社情報を正確に抽出してJSON形式で返してください。\\n\\nHTMLコンテンツ:\\n<!DOCTYPE html>\\n<html lang=\\"ja\\">\\n<head>\\n\\t<meta charset=\\"UTF-8\\">\\n\\t<!-- Google Tag Manager -->\\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\n\\tnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\n\\tj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n\\t'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n\\t})(window,document,'script','dataLayer','GTM-NWVRFH67');</script>\\n\\t<!-- End Google Tag Manager -->\\n\\t<!-- Google Tag Manager -->\\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n})(window,document,'script','dataLayer','GTM-NK864D6K');</script>\\n    <!-- End Google Tag Manager -->\\n\\n\\t<!--GMO Google Tag Manager -->\\n    \\n    <!-- Yahoo Ad -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n    <!-- End Yahoo Ad -->\\n    \\n    <!-- Yahoo Ad -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\n</script>\\n    <!-- End Yahoo Ad -->\\n\\t<title>特定商取引法│ポスター印刷のABポスター</title>\\n\\t<meta name=\\"description\\" content=\\"ポスター印刷専門店のABポスターは、「当日印刷」、「当日発送」で、「ポスター印刷」と「タペストリー」最新鋭の印刷設備と技術で印刷いたします。16時まで当日発送のポスター印刷をご検討の際にはまず弊社にお声がけください。\\">\\n\\t<meta name=\\"keywords\\" content=\\"ポスター印刷,ポスター当日,ポスター作成,ポスター当日発送\\">\\n\\t<meta name=\\"viewport\\" content=\\"width=device-width,initial-scale=1\\">\\n\\t<!--※カートから直前のページに戻る※-->\\n\\t<meta name=\\"referrer\\" content=\\"no-referrer-when-downgrade\\">\\n\\t\\n\\t<link rel=\\"canonical\\" href=\\"https://abposter.jp/basic/kiyaku.html\\">\\n\\t<link rel=\\"stylesheet\\" href=\\"../css/poster_style.css\\" type=\\"text/css\\" media=\\"screen\\" />\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/tsuiki.min.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/style.min2402230216.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/style-hd.css?210608\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/h2h3.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/accordion.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/p_index.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/sidebanner240308.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/contents.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/test_print.css?ver1.6\\">\\n\\t<link rel=\\"stylesheet\\" href=\\"../css/ppbtn.css\\">\\n\\t\\n\\t<script src=\\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\\"></script>\\n\\t<script type=\\"text/javascript\\" src=\\"../js/img-switch.js\\"></script>\\n\\t<script src=\\"../js/iscroll.js\\"></script>\\n\\t<script src=\\"../js/drawer.min.js\\"></script>\\n\\t<script src=\\"../js/jquery.flexslider-min.js\\"></script>\\n\\t<script src=\\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js\\"></script>\\n\\t<script src=\\"../js/setting.js\\"></script>\\n\\n<!-- Yahoo Tag -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n<!-- End Yahoo Tag -->\\n\\n<style>\\n  .pc { display: block !important; }\\n  .sp { display: none !important; }\\n\\n  @media only screen and (max-width: 600px) {\\n  .pc { display: none !important; }\\n  .sp { display: block !important; }\\n}\\n</style>\\n\\n\\t<!--※※affiliate TAG※※-->\\n\\t<script src=\\"https://r.moshimo.com/af/r/maftag.js\\"></script>\\n</head>\\n\\n<body class=\\"drawer drawer--right drawer-responsive\\">\\n<!-- Google Tag Manager (noscript) -->\\n<noscript><iframe src=\\"https://www.googletagmanager.com/ns.html?id=GTM-NK864D6K\\"\\nheight=\\"0\\" width=\\"0\\" style=\\"display:none;visibility:hidden\\"></iframe></noscript>\\n<!-- End Google Tag Manager (noscript) -->\\n\\n<div class=\\"htop\\"><a href=\\"https://abposter.jp/\\"><h1 style=\\"display:inline\\">特定商取引法</h1></a>│ポスター印刷のABポスター</div>\\n\\n<!-- ハンバーガーボタン -->\\n<button type=\\"button\\" class=\\"drawer-toggle drawer-hamburger\\">\\n  <span class=\\"sr-only\\">toggle navigation</span>\\n  <span class=\\"drawer-hamburger-icon\\"></span>\\n    <span class=\\"dw-menu\\">MENU</span>\\n  </button>\\n \\n<!-- ナビゲーションの中身 -->\\n    <nav class=\\"drawer-nav\\" role=\\"navigation\\">\\n      <ul class=\\"drawer-menu\\">\\n        <li><a class=\\"drawer-brand\\" href=\\"https://abposter.jp/\\">HOME</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/login.php\\" target=\\"_blank\\">ログイン</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/newmem.php\\" target=\\"_blank\\">会員登録</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/cart.php\\" target=\\"_blank\\">カートを見る</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://abposter.jp/toiawase/toiawase.html\\">お問合せ</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://abposter.jp/mitsumori/mitsumori.html\\">お見積り</a></li>\\n\\n  \\t<!-- ポスター印刷  -->\\n        <li class=\\"drawer-dropdown\\">\\n    \\t  <a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">ポスター印刷<span class=\\"drawer-caret\\"></span></a>\\n          <ul class=\\"drawer-dropdown-menu\\">\\n            <li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/\\">ポスター印刷用紙一覧</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/gloss.html\\">厚手光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/h_gloss.html\\">厚手半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/yupo.html\\">合成紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/p_yupo.html\\">合成紙糊付き</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/photo.html\\">フォト光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/photo_p.html\\">フォトパール半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/film.html\\">電飾用バックライトフィルム</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/tarpo.html\\">屋内用ターポリン</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/cloth.html\\">防炎クロス</a></li>\\n          </ul>\\n        </li>\\n\\n    \\t<!-- 大判印刷 -->\\n\\t\\t\\t<li class=\\"drawer-dropdown\\">\\n\\t\\t\\t\\t<a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">大判印刷<span class=\\"icon_accordion-1\\"></span><span class=\\"icon_accordion-2\\"></span></a>\\n\\t\\t\\t\\t<ul class=\\"drawer-dropdown-menu\\">\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/page/wide\\">大判印刷用紙一覧</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_gloss.html\\">光沢フォトペーパー</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_parl.html\\">フォトパールペーパー</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_yupo.html\\">厚手ハイグレード合成紙</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_tarpo.html\\">ハイグレード防炎ターポリン</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_mesh.html\\">メッシュターポリン</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_blfilm.html\\">バックライトフィルム糊付き</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_s.html\\">短期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_m.html\\">中期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_l.html\\">長期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t</li>\\n\\n    \\t<!-- 学会ポスター印刷 -->\\n        <li class=\\"drawer-dropdown\\">\\n    \\t  <a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">学会ポスター印刷<span class=\\"drawer-caret\\"></span></a>\\n          <ul class=\\"drawer-dropdown-menu\\">\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_gloss.html\\">厚手光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_hgloss.html\\">厚手半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_photo.html\\">フォト光沢紙</a`... 6466 more characters,
  url: 'https://abposter.jp/basic/tokusho.html'
}
[2025-07-30T09:27:55.942Z] [INFO] Company info extracted via regex fallback: {
  companyName: '特定商取引法│ポスター印刷のABポスター',
  companyNameKana: '特定商取引法│ポスター印刷ノエービーポスター',
  address: '2402230216.css">',
  postalCode: '240-2230',
  website: 'https://abposter.jp/basic/tokusho.html'
}
[2025-07-30T09:27:55.942Z] [DEBUG] 🔍 Contact info check (regex): {
  phone: undefined,
  fax: undefined,
  email: undefined,
  website: 'https://abposter.jp/basic/tokusho.html'
}
 POST /api/extract-company-info 200 in 431ms
[2025-07-30T09:28:07.638Z] [INFO] Extracting company info from URL: https://abposter.jp/basic/tokusho.html
[2025-07-30T09:28:07.690Z] [DEBUG] HTML fetched successfully, length: 42637
[2025-07-30T09:28:07.690Z] [ERROR] AI extraction failed, falling back to regex parsing: {
  error: `Message with role "undefined" must have either a 'content' property (string or array) or a 'parts' property (array) that is not empty, null, or undefined. Received message: {\n` +
    '  "messages": [\n' +
    '    {\n' +
    '      "role": "user",\n' +
    `      "content": "以下のHTMLから会社情報を正確に抽出してJSON形式で返してください。\\n\\nHTMLコンテンツ:\\n<!DOCTYPE html>\\n<html lang=\\"ja\\">\\n<head>\\n\\t<meta charset=\\"UTF-8\\">\\n\\t<!-- Google Tag Manager -->\\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\n\\tnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\n\\tj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n\\t'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n\\t})(window,document,'script','dataLayer','GTM-NWVRFH67');</script>\\n\\t<!-- End Google Tag Manager -->\\n\\t<!-- Google Tag Manager -->\\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n})(window,document,'script','dataLayer','GTM-NK864D6K');</script>\\n    <!-- End Google Tag Manager -->\\n\\n\\t<!--GMO Google Tag Manager -->\\n    \\n    <!-- Yahoo Ad -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n    <!-- End Yahoo Ad -->\\n    \\n    <!-- Yahoo Ad -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\n</script>\\n    <!-- End Yahoo Ad -->\\n\\t<title>特定商取引法│ポスター印刷のABポスター</title>\\n\\t<meta name=\\"description\\" content=\\"ポスター印刷専門店のABポスターは、「当日印刷」、「当日発送」で、「ポスター印刷」と「タペストリー」最新鋭の印刷設備と技術で印刷いたします。16時まで当日発送のポスター印刷をご検討の際にはまず弊社にお声がけください。\\">\\n\\t<meta name=\\"keywords\\" content=\\"ポスター印刷,ポスター当日,ポスター作成,ポスター当日発送\\">\\n\\t<meta name=\\"viewport\\" content=\\"width=device-width,initial-scale=1\\">\\n\\t<!--※カートから直前のページに戻る※-->\\n\\t<meta name=\\"referrer\\" content=\\"no-referrer-when-downgrade\\">\\n\\t\\n\\t<link rel=\\"canonical\\" href=\\"https://abposter.jp/basic/kiyaku.html\\">\\n\\t<link rel=\\"stylesheet\\" href=\\"../css/poster_style.css\\" type=\\"text/css\\" media=\\"screen\\" />\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/tsuiki.min.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/style.min2402230216.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/style-hd.css?210608\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/h2h3.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/accordion.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/p_index.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/sidebanner240308.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/contents.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/test_print.css?ver1.6\\">\\n\\t<link rel=\\"stylesheet\\" href=\\"../css/ppbtn.css\\">\\n\\t\\n\\t<script src=\\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\\"></script>\\n\\t<script type=\\"text/javascript\\" src=\\"../js/img-switch.js\\"></script>\\n\\t<script src=\\"../js/iscroll.js\\"></script>\\n\\t<script src=\\"../js/drawer.min.js\\"></script>\\n\\t<script src=\\"../js/jquery.flexslider-min.js\\"></script>\\n\\t<script src=\\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js\\"></script>\\n\\t<script src=\\"../js/setting.js\\"></script>\\n\\n<!-- Yahoo Tag -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n<!-- End Yahoo Tag -->\\n\\n<style>\\n  .pc { display: block !important; }\\n  .sp { display: none !important; }\\n\\n  @media only screen and (max-width: 600px) {\\n  .pc { display: none !important; }\\n  .sp { display: block !important; }\\n}\\n</style>\\n\\n\\t<!--※※affiliate TAG※※-->\\n\\t<script src=\\"https://r.moshimo.com/af/r/maftag.js\\"></script>\\n</head>\\n\\n<body class=\\"drawer drawer--right drawer-responsive\\">\\n<!-- Google Tag Manager (noscript) -->\\n<noscript><iframe src=\\"https://www.googletagmanager.com/ns.html?id=GTM-NK864D6K\\"\\nheight=\\"0\\" width=\\"0\\" style=\\"display:none;visibility:hidden\\"></iframe></noscript>\\n<!-- End Google Tag Manager (noscript) -->\\n\\n<div class=\\"htop\\"><a href=\\"https://abposter.jp/\\"><h1 style=\\"display:inline\\">特定商取引法</h1></a>│ポスター印刷のABポスター</div>\\n\\n<!-- ハンバーガーボタン -->\\n<button type=\\"button\\" class=\\"drawer-toggle drawer-hamburger\\">\\n  <span class=\\"sr-only\\">toggle navigation</span>\\n  <span class=\\"drawer-hamburger-icon\\"></span>\\n    <span class=\\"dw-menu\\">MENU</span>\\n  </button>\\n \\n<!-- ナビゲーションの中身 -->\\n    <nav class=\\"drawer-nav\\" role=\\"navigation\\">\\n      <ul class=\\"drawer-menu\\">\\n        <li><a class=\\"drawer-brand\\" href=\\"https://abposter.jp/\\">HOME</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/login.php\\" target=\\"_blank\\">ログイン</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/newmem.php\\" target=\\"_blank\\">会員登録</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/cart.php\\" target=\\"_blank\\">カートを見る</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://abposter.jp/toiawase/toiawase.html\\">お問合せ</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://abposter.jp/mitsumori/mitsumori.html\\">お見積り</a></li>\\n\\n  \\t<!-- ポスター印刷  -->\\n        <li class=\\"drawer-dropdown\\">\\n    \\t  <a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">ポスター印刷<span class=\\"drawer-caret\\"></span></a>\\n          <ul class=\\"drawer-dropdown-menu\\">\\n            <li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/\\">ポスター印刷用紙一覧</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/gloss.html\\">厚手光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/h_gloss.html\\">厚手半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/yupo.html\\">合成紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/p_yupo.html\\">合成紙糊付き</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/photo.html\\">フォト光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/photo_p.html\\">フォトパール半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/film.html\\">電飾用バックライトフィルム</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/tarpo.html\\">屋内用ターポリン</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/cloth.html\\">防炎クロス</a></li>\\n          </ul>\\n        </li>\\n\\n    \\t<!-- 大判印刷 -->\\n\\t\\t\\t<li class=\\"drawer-dropdown\\">\\n\\t\\t\\t\\t<a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">大判印刷<span class=\\"icon_accordion-1\\"></span><span class=\\"icon_accordion-2\\"></span></a>\\n\\t\\t\\t\\t<ul class=\\"drawer-dropdown-menu\\">\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/page/wide\\">大判印刷用紙一覧</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_gloss.html\\">光沢フォトペーパー</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_parl.html\\">フォトパールペーパー</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_yupo.html\\">厚手ハイグレード合成紙</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_tarpo.html\\">ハイグレード防炎ターポリン</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_mesh.html\\">メッシュターポリン</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_blfilm.html\\">バックライトフィルム糊付き</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_s.html\\">短期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_m.html\\">中期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_l.html\\">長期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t</li>\\n\\n    \\t<!-- 学会ポスター印刷 -->\\n        <li class=\\"drawer-dropdown\\">\\n    \\t  <a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">学会ポスター印刷<span class=\\"drawer-caret\\"></span></a>\\n          <ul class=\\"drawer-dropdown-menu\\">\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_gloss.html\\">厚手光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_hgloss.html\\">厚手半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_photo.html\\">フォト光沢紙</a></li>\\`... 2592 more characters,
  stack: `Error: Message with role "undefined" must have either a 'content' property (string or array) or a 'parts' property (array) that is not empty, null, or undefined. Received message: {\n` +
    '  "messages": [\n' +
    '    {\n' +
    '      "role": "user",\n' +
    `      "content": "以下のHTMLから会社情報を正確に抽出してJSON形式で返してください。\\n\\nHTMLコンテンツ:\\n<!DOCTYPE html>\\n<html lang=\\"ja\\">\\n<head>\\n\\t<meta charset=\\"UTF-8\\">\\n\\t<!-- Google Tag Manager -->\\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\n\\tnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\n\\tj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n\\t'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n\\t})(window,document,'script','dataLayer','GTM-NWVRFH67');</script>\\n\\t<!-- End Google Tag Manager -->\\n\\t<!-- Google Tag Manager -->\\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n})(window,document,'script','dataLayer','GTM-NK864D6K');</script>\\n    <!-- End Google Tag Manager -->\\n\\n\\t<!--GMO Google Tag Manager -->\\n    \\n    <!-- Yahoo Ad -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n    <!-- End Yahoo Ad -->\\n    \\n    <!-- Yahoo Ad -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\n</script>\\n    <!-- End Yahoo Ad -->\\n\\t<title>特定商取引法│ポスター印刷のABポスター</title>\\n\\t<meta name=\\"description\\" content=\\"ポスター印刷専門店のABポスターは、「当日印刷」、「当日発送」で、「ポスター印刷」と「タペストリー」最新鋭の印刷設備と技術で印刷いたします。16時まで当日発送のポスター印刷をご検討の際にはまず弊社にお声がけください。\\">\\n\\t<meta name=\\"keywords\\" content=\\"ポスター印刷,ポスター当日,ポスター作成,ポスター当日発送\\">\\n\\t<meta name=\\"viewport\\" content=\\"width=device-width,initial-scale=1\\">\\n\\t<!--※カートから直前のページに戻る※-->\\n\\t<meta name=\\"referrer\\" content=\\"no-referrer-when-downgrade\\">\\n\\t\\n\\t<link rel=\\"canonical\\" href=\\"https://abposter.jp/basic/kiyaku.html\\">\\n\\t<link rel=\\"stylesheet\\" href=\\"../css/poster_style.css\\" type=\\"text/css\\" media=\\"screen\\" />\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/tsuiki.min.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/style.min2402230216.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/style-hd.css?210608\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/h2h3.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/accordion.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/p_index.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/sidebanner240308.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/contents.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/test_print.css?ver1.6\\">\\n\\t<link rel=\\"stylesheet\\" href=\\"../css/ppbtn.css\\">\\n\\t\\n\\t<script src=\\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\\"></script>\\n\\t<script type=\\"text/javascript\\" src=\\"../js/img-switch.js\\"></script>\\n\\t<script src=\\"../js/iscroll.js\\"></script>\\n\\t<script src=\\"../js/drawer.min.js\\"></script>\\n\\t<script src=\\"../js/jquery.flexslider-min.js\\"></script>\\n\\t<script src=\\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js\\"></script>\\n\\t<script src=\\"../js/setting.js\\"></script>\\n\\n<!-- Yahoo Tag -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n<!-- End Yahoo Tag -->\\n\\n<style>\\n  .pc { display: block !important; }\\n  .sp { display: none !important; }\\n\\n  @media only screen and (max-width: 600px) {\\n  .pc { display: none !important; }\\n  .sp { display: block !important; }\\n}\\n</style>\\n\\n\\t<!--※※affiliate TAG※※-->\\n\\t<script src=\\"https://r.moshimo.com/af/r/maftag.js\\"></script>\\n</head>\\n\\n<body class=\\"drawer drawer--right drawer-responsive\\">\\n<!-- Google Tag Manager (noscript) -->\\n<noscript><iframe src=\\"https://www.googletagmanager.com/ns.html?id=GTM-NK864D6K\\"\\nheight=\\"0\\" width=\\"0\\" style=\\"display:none;visibility:hidden\\"></iframe></noscript>\\n<!-- End Google Tag Manager (noscript) -->\\n\\n<div class=\\"htop\\"><a href=\\"https://abposter.jp/\\"><h1 style=\\"display:inline\\">特定商取引法</h1></a>│ポスター印刷のABポスター</div>\\n\\n<!-- ハンバーガーボタン -->\\n<button type=\\"button\\" class=\\"drawer-toggle drawer-hamburger\\">\\n  <span class=\\"sr-only\\">toggle navigation</span>\\n  <span class=\\"drawer-hamburger-icon\\"></span>\\n    <span class=\\"dw-menu\\">MENU</span>\\n  </button>\\n \\n<!-- ナビゲーションの中身 -->\\n    <nav class=\\"drawer-nav\\" role=\\"navigation\\">\\n      <ul class=\\"drawer-menu\\">\\n        <li><a class=\\"drawer-brand\\" href=\\"https://abposter.jp/\\">HOME</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/login.php\\" target=\\"_blank\\">ログイン</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/newmem.php\\" target=\\"_blank\\">会員登録</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/cart.php\\" target=\\"_blank\\">カートを見る</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://abposter.jp/toiawase/toiawase.html\\">お問合せ</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://abposter.jp/mitsumori/mitsumori.html\\">お見積り</a></li>\\n\\n  \\t<!-- ポスター印刷  -->\\n        <li class=\\"drawer-dropdown\\">\\n    \\t  <a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">ポスター印刷<span class=\\"drawer-caret\\"></span></a>\\n          <ul class=\\"drawer-dropdown-menu\\">\\n            <li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/\\">ポスター印刷用紙一覧</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/gloss.html\\">厚手光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/h_gloss.html\\">厚手半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/yupo.html\\">合成紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/p_yupo.html\\">合成紙糊付き</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/photo.html\\">フォト光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/photo_p.html\\">フォトパール半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/film.html\\">電飾用バックライトフィルム</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/tarpo.html\\">屋内用ターポリン</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/cloth.html\\">防炎クロス</a></li>\\n          </ul>\\n        </li>\\n\\n    \\t<!-- 大判印刷 -->\\n\\t\\t\\t<li class=\\"drawer-dropdown\\">\\n\\t\\t\\t\\t<a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">大判印刷<span class=\\"icon_accordion-1\\"></span><span class=\\"icon_accordion-2\\"></span></a>\\n\\t\\t\\t\\t<ul class=\\"drawer-dropdown-menu\\">\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/page/wide\\">大判印刷用紙一覧</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_gloss.html\\">光沢フォトペーパー</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_parl.html\\">フォトパールペーパー</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_yupo.html\\">厚手ハイグレード合成紙</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_tarpo.html\\">ハイグレード防炎ターポリン</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_mesh.html\\">メッシュターポリン</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_blfilm.html\\">バックライトフィルム糊付き</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_s.html\\">短期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_m.html\\">中期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_l.html\\">長期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t</li>\\n\\n    \\t<!-- 学会ポスター印刷 -->\\n        <li class=\\"drawer-dropdown\\">\\n    \\t  <a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">学会ポスター印刷<span class=\\"drawer-caret\\"></span></a>\\n          <ul class=\\"drawer-dropdown-menu\\">\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_gloss.html\\">厚手光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_hgloss.html\\">厚手半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_photo.html\\">フォト光沢紙</a`... 6466 more characters,
  url: 'https://abposter.jp/basic/tokusho.html'
}
[2025-07-30T09:28:07.691Z] [INFO] Company info extracted via regex fallback: {
  companyName: '特定商取引法│ポスター印刷のABポスター',
  companyNameKana: '特定商取引法│ポスター印刷ノエービーポスター',
  address: '2402230216.css">',
  postalCode: '240-2230',
  website: 'https://abposter.jp/basic/tokusho.html'
}
[2025-07-30T09:28:07.691Z] [DEBUG] 🔍 Contact info check (regex): {
  phone: undefined,
  fax: undefined,
  email: undefined,
  website: 'https://abposter.jp/basic/tokusho.html'
}
 POST /api/extract-company-info 200 in 61ms
[2025-07-30T09:29:22.131Z] [INFO] Extracting company info from URL: https://abposter.jp/basic/tokusho.html
[2025-07-30T09:29:22.190Z] [DEBUG] HTML fetched successfully, length: 42637
[2025-07-30T09:29:22.191Z] [ERROR] AI extraction failed, falling back to regex parsing: {
  error: `Message with role "undefined" must have either a 'content' property (string or array) or a 'parts' property (array) that is not empty, null, or undefined. Received message: {\n` +
    '  "messages": [\n' +
    '    {\n' +
    '      "role": "user",\n' +
    `      "content": "以下のHTMLから会社情報を正確に抽出してJSON形式で返してください。\\n\\nHTMLコンテンツ:\\n<!DOCTYPE html>\\n<html lang=\\"ja\\">\\n<head>\\n\\t<meta charset=\\"UTF-8\\">\\n\\t<!-- Google Tag Manager -->\\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\n\\tnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\n\\tj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n\\t'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n\\t})(window,document,'script','dataLayer','GTM-NWVRFH67');</script>\\n\\t<!-- End Google Tag Manager -->\\n\\t<!-- Google Tag Manager -->\\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n})(window,document,'script','dataLayer','GTM-NK864D6K');</script>\\n    <!-- End Google Tag Manager -->\\n\\n\\t<!--GMO Google Tag Manager -->\\n    \\n    <!-- Yahoo Ad -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n    <!-- End Yahoo Ad -->\\n    \\n    <!-- Yahoo Ad -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\n</script>\\n    <!-- End Yahoo Ad -->\\n\\t<title>特定商取引法│ポスター印刷のABポスター</title>\\n\\t<meta name=\\"description\\" content=\\"ポスター印刷専門店のABポスターは、「当日印刷」、「当日発送」で、「ポスター印刷」と「タペストリー」最新鋭の印刷設備と技術で印刷いたします。16時まで当日発送のポスター印刷をご検討の際にはまず弊社にお声がけください。\\">\\n\\t<meta name=\\"keywords\\" content=\\"ポスター印刷,ポスター当日,ポスター作成,ポスター当日発送\\">\\n\\t<meta name=\\"viewport\\" content=\\"width=device-width,initial-scale=1\\">\\n\\t<!--※カートから直前のページに戻る※-->\\n\\t<meta name=\\"referrer\\" content=\\"no-referrer-when-downgrade\\">\\n\\t\\n\\t<link rel=\\"canonical\\" href=\\"https://abposter.jp/basic/kiyaku.html\\">\\n\\t<link rel=\\"stylesheet\\" href=\\"../css/poster_style.css\\" type=\\"text/css\\" media=\\"screen\\" />\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/tsuiki.min.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/style.min2402230216.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/style-hd.css?210608\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/h2h3.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/accordion.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/p_index.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/sidebanner240308.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/contents.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/test_print.css?ver1.6\\">\\n\\t<link rel=\\"stylesheet\\" href=\\"../css/ppbtn.css\\">\\n\\t\\n\\t<script src=\\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\\"></script>\\n\\t<script type=\\"text/javascript\\" src=\\"../js/img-switch.js\\"></script>\\n\\t<script src=\\"../js/iscroll.js\\"></script>\\n\\t<script src=\\"../js/drawer.min.js\\"></script>\\n\\t<script src=\\"../js/jquery.flexslider-min.js\\"></script>\\n\\t<script src=\\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js\\"></script>\\n\\t<script src=\\"../js/setting.js\\"></script>\\n\\n<!-- Yahoo Tag -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n<!-- End Yahoo Tag -->\\n\\n<style>\\n  .pc { display: block !important; }\\n  .sp { display: none !important; }\\n\\n  @media only screen and (max-width: 600px) {\\n  .pc { display: none !important; }\\n  .sp { display: block !important; }\\n}\\n</style>\\n\\n\\t<!--※※affiliate TAG※※-->\\n\\t<script src=\\"https://r.moshimo.com/af/r/maftag.js\\"></script>\\n</head>\\n\\n<body class=\\"drawer drawer--right drawer-responsive\\">\\n<!-- Google Tag Manager (noscript) -->\\n<noscript><iframe src=\\"https://www.googletagmanager.com/ns.html?id=GTM-NK864D6K\\"\\nheight=\\"0\\" width=\\"0\\" style=\\"display:none;visibility:hidden\\"></iframe></noscript>\\n<!-- End Google Tag Manager (noscript) -->\\n\\n<div class=\\"htop\\"><a href=\\"https://abposter.jp/\\"><h1 style=\\"display:inline\\">特定商取引法</h1></a>│ポスター印刷のABポスター</div>\\n\\n<!-- ハンバーガーボタン -->\\n<button type=\\"button\\" class=\\"drawer-toggle drawer-hamburger\\">\\n  <span class=\\"sr-only\\">toggle navigation</span>\\n  <span class=\\"drawer-hamburger-icon\\"></span>\\n    <span class=\\"dw-menu\\">MENU</span>\\n  </button>\\n \\n<!-- ナビゲーションの中身 -->\\n    <nav class=\\"drawer-nav\\" role=\\"navigation\\">\\n      <ul class=\\"drawer-menu\\">\\n        <li><a class=\\"drawer-brand\\" href=\\"https://abposter.jp/\\">HOME</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/login.php\\" target=\\"_blank\\">ログイン</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/newmem.php\\" target=\\"_blank\\">会員登録</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/cart.php\\" target=\\"_blank\\">カートを見る</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://abposter.jp/toiawase/toiawase.html\\">お問合せ</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://abposter.jp/mitsumori/mitsumori.html\\">お見積り</a></li>\\n\\n  \\t<!-- ポスター印刷  -->\\n        <li class=\\"drawer-dropdown\\">\\n    \\t  <a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">ポスター印刷<span class=\\"drawer-caret\\"></span></a>\\n          <ul class=\\"drawer-dropdown-menu\\">\\n            <li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/\\">ポスター印刷用紙一覧</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/gloss.html\\">厚手光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/h_gloss.html\\">厚手半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/yupo.html\\">合成紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/p_yupo.html\\">合成紙糊付き</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/photo.html\\">フォト光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/photo_p.html\\">フォトパール半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/film.html\\">電飾用バックライトフィルム</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/tarpo.html\\">屋内用ターポリン</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/cloth.html\\">防炎クロス</a></li>\\n          </ul>\\n        </li>\\n\\n    \\t<!-- 大判印刷 -->\\n\\t\\t\\t<li class=\\"drawer-dropdown\\">\\n\\t\\t\\t\\t<a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">大判印刷<span class=\\"icon_accordion-1\\"></span><span class=\\"icon_accordion-2\\"></span></a>\\n\\t\\t\\t\\t<ul class=\\"drawer-dropdown-menu\\">\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/page/wide\\">大判印刷用紙一覧</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_gloss.html\\">光沢フォトペーパー</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_parl.html\\">フォトパールペーパー</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_yupo.html\\">厚手ハイグレード合成紙</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_tarpo.html\\">ハイグレード防炎ターポリン</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_mesh.html\\">メッシュターポリン</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_blfilm.html\\">バックライトフィルム糊付き</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_s.html\\">短期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_m.html\\">中期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_l.html\\">長期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t</li>\\n\\n    \\t<!-- 学会ポスター印刷 -->\\n        <li class=\\"drawer-dropdown\\">\\n    \\t  <a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">学会ポスター印刷<span class=\\"drawer-caret\\"></span></a>\\n          <ul class=\\"drawer-dropdown-menu\\">\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_gloss.html\\">厚手光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_hgloss.html\\">厚手半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_photo.html\\">フォト光沢紙</a></li>\\`... 2592 more characters,
  stack: `Error: Message with role "undefined" must have either a 'content' property (string or array) or a 'parts' property (array) that is not empty, null, or undefined. Received message: {\n` +
    '  "messages": [\n' +
    '    {\n' +
    '      "role": "user",\n' +
    `      "content": "以下のHTMLから会社情報を正確に抽出してJSON形式で返してください。\\n\\nHTMLコンテンツ:\\n<!DOCTYPE html>\\n<html lang=\\"ja\\">\\n<head>\\n\\t<meta charset=\\"UTF-8\\">\\n\\t<!-- Google Tag Manager -->\\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\n\\tnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\n\\tj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n\\t'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n\\t})(window,document,'script','dataLayer','GTM-NWVRFH67');</script>\\n\\t<!-- End Google Tag Manager -->\\n\\t<!-- Google Tag Manager -->\\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n})(window,document,'script','dataLayer','GTM-NK864D6K');</script>\\n    <!-- End Google Tag Manager -->\\n\\n\\t<!--GMO Google Tag Manager -->\\n    \\n    <!-- Yahoo Ad -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n    <!-- End Yahoo Ad -->\\n    \\n    <!-- Yahoo Ad -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\n</script>\\n    <!-- End Yahoo Ad -->\\n\\t<title>特定商取引法│ポスター印刷のABポスター</title>\\n\\t<meta name=\\"description\\" content=\\"ポスター印刷専門店のABポスターは、「当日印刷」、「当日発送」で、「ポスター印刷」と「タペストリー」最新鋭の印刷設備と技術で印刷いたします。16時まで当日発送のポスター印刷をご検討の際にはまず弊社にお声がけください。\\">\\n\\t<meta name=\\"keywords\\" content=\\"ポスター印刷,ポスター当日,ポスター作成,ポスター当日発送\\">\\n\\t<meta name=\\"viewport\\" content=\\"width=device-width,initial-scale=1\\">\\n\\t<!--※カートから直前のページに戻る※-->\\n\\t<meta name=\\"referrer\\" content=\\"no-referrer-when-downgrade\\">\\n\\t\\n\\t<link rel=\\"canonical\\" href=\\"https://abposter.jp/basic/kiyaku.html\\">\\n\\t<link rel=\\"stylesheet\\" href=\\"../css/poster_style.css\\" type=\\"text/css\\" media=\\"screen\\" />\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/tsuiki.min.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/style.min2402230216.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/style-hd.css?210608\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/h2h3.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/accordion.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/p_index.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/sidebanner240308.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/contents.css\\">\\n\\t<link rel=\\"stylesheet\\" type=\\"text/css\\" href=\\"../css/test_print.css?ver1.6\\">\\n\\t<link rel=\\"stylesheet\\" href=\\"../css/ppbtn.css\\">\\n\\t\\n\\t<script src=\\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\\"></script>\\n\\t<script type=\\"text/javascript\\" src=\\"../js/img-switch.js\\"></script>\\n\\t<script src=\\"../js/iscroll.js\\"></script>\\n\\t<script src=\\"../js/drawer.min.js\\"></script>\\n\\t<script src=\\"../js/jquery.flexslider-min.js\\"></script>\\n\\t<script src=\\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js\\"></script>\\n\\t<script src=\\"../js/setting.js\\"></script>\\n\\n<!-- Yahoo Tag -->\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n\\n<script async src=\\"https://s.yimg.jp/images/listing/tool/cv/ytag.js\\"></script>\\n<script>\\nwindow.yjDataLayer = window.yjDataLayer || [];\\nfunction ytag() { yjDataLayer.push(arguments); }\\nytag({\\"type\\":\\"ycl_cookie\\", \\"config\\":{\\"ycl_use_non_cookie_storage\\":true}});\\n</script>\\n<!-- End Yahoo Tag -->\\n\\n<style>\\n  .pc { display: block !important; }\\n  .sp { display: none !important; }\\n\\n  @media only screen and (max-width: 600px) {\\n  .pc { display: none !important; }\\n  .sp { display: block !important; }\\n}\\n</style>\\n\\n\\t<!--※※affiliate TAG※※-->\\n\\t<script src=\\"https://r.moshimo.com/af/r/maftag.js\\"></script>\\n</head>\\n\\n<body class=\\"drawer drawer--right drawer-responsive\\">\\n<!-- Google Tag Manager (noscript) -->\\n<noscript><iframe src=\\"https://www.googletagmanager.com/ns.html?id=GTM-NK864D6K\\"\\nheight=\\"0\\" width=\\"0\\" style=\\"display:none;visibility:hidden\\"></iframe></noscript>\\n<!-- End Google Tag Manager (noscript) -->\\n\\n<div class=\\"htop\\"><a href=\\"https://abposter.jp/\\"><h1 style=\\"display:inline\\">特定商取引法</h1></a>│ポスター印刷のABポスター</div>\\n\\n<!-- ハンバーガーボタン -->\\n<button type=\\"button\\" class=\\"drawer-toggle drawer-hamburger\\">\\n  <span class=\\"sr-only\\">toggle navigation</span>\\n  <span class=\\"drawer-hamburger-icon\\"></span>\\n    <span class=\\"dw-menu\\">MENU</span>\\n  </button>\\n \\n<!-- ナビゲーションの中身 -->\\n    <nav class=\\"drawer-nav\\" role=\\"navigation\\">\\n      <ul class=\\"drawer-menu\\">\\n        <li><a class=\\"drawer-brand\\" href=\\"https://abposter.jp/\\">HOME</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/login.php\\" target=\\"_blank\\">ログイン</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/newmem.php\\" target=\\"_blank\\">会員登録</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://store.abposter.jp/CART/cart.php\\" target=\\"_blank\\">カートを見る</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://abposter.jp/toiawase/toiawase.html\\">お問合せ</a></li>\\n        <li><a class=\\"drawer-menu-item\\" href=\\"https://abposter.jp/mitsumori/mitsumori.html\\">お見積り</a></li>\\n\\n  \\t<!-- ポスター印刷  -->\\n        <li class=\\"drawer-dropdown\\">\\n    \\t  <a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">ポスター印刷<span class=\\"drawer-caret\\"></span></a>\\n          <ul class=\\"drawer-dropdown-menu\\">\\n            <li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/\\">ポスター印刷用紙一覧</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/gloss.html\\">厚手光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/h_gloss.html\\">厚手半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/yupo.html\\">合成紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/p_yupo.html\\">合成紙糊付き</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/photo.html\\">フォト光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/photo_p.html\\">フォトパール半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/film.html\\">電飾用バックライトフィルム</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/tarpo.html\\">屋内用ターポリン</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/poster/cloth.html\\">防炎クロス</a></li>\\n          </ul>\\n        </li>\\n\\n    \\t<!-- 大判印刷 -->\\n\\t\\t\\t<li class=\\"drawer-dropdown\\">\\n\\t\\t\\t\\t<a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">大判印刷<span class=\\"icon_accordion-1\\"></span><span class=\\"icon_accordion-2\\"></span></a>\\n\\t\\t\\t\\t<ul class=\\"drawer-dropdown-menu\\">\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/page/wide\\">大判印刷用紙一覧</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_gloss.html\\">光沢フォトペーパー</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_parl.html\\">フォトパールペーパー</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_yupo.html\\">厚手ハイグレード合成紙</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_tarpo.html\\">ハイグレード防炎ターポリン</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_mesh.html\\">メッシュターポリン</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_blfilm.html\\">バックライトフィルム糊付き</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_s.html\\">短期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_m.html\\">中期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/wide/w_enbil_l.html\\">長期用塩ビ＋ラミネート</a></li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t</li>\\n\\n    \\t<!-- 学会ポスター印刷 -->\\n        <li class=\\"drawer-dropdown\\">\\n    \\t  <a class=\\"drawer-menu-item\\" href=\\"#\\" data-toggle=\\"dropdown\\">学会ポスター印刷<span class=\\"drawer-caret\\"></span></a>\\n          <ul class=\\"drawer-dropdown-menu\\">\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_mat.html\\">厚手マットコート紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_gloss.html\\">厚手光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_hgloss.html\\">厚手半光沢紙</a></li>\\n\\t\\t\\t<li><a class=\\"drawer-dropdown-menu-item\\" href=\\"https://abposter.jp/society/g_photo.html\\">フォト光沢紙</a`... 6466 more characters,
  url: 'https://abposter.jp/basic/tokusho.html'
}
[2025-07-30T09:29:22.193Z] [INFO] Company info extracted via regex fallback: {
  companyName: '特定商取引法│ポスター印刷のABポスター',
  companyNameKana: '特定商取引法│ポスター印刷ノエービーポスター',
  address: '2402230216.css">',
  postalCode: '240-2230',
  website: 'https://abposter.jp/basic/tokusho.html'
}
[2025-07-30T09:29:22.193Z] [DEBUG] 🔍 Contact info check (regex): {
  phone: undefined,
  fax: undefined,
  email: undefined,
  website: 'https://abposter.jp/basic/tokusho.html'
}
 POST /api/extract-company-info 200 in 69ms
 ✓ Compiled in 10ms
 ⨯ ./app/api/extract-company-info/route.ts
Error: 
  [31mx[0m A 'break' statement can only be used within an enclosing iteration or switch statement
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:466:1]
 [2m466[0m |                 }
 [2m467[0m |               }
 [2m468[0m |             }
 [2m469[0m |             break;
     : [31;1m            ^^^^^^[0m
 [2m470[0m |           }
 [2m471[0m |         }
 [2m472[0m |       }
     `----

  [31mx[0m Expected a semicolon
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:472:1]
 [2m472[0m |       }
 [2m473[0m | 
 [2m474[0m |       // 電話番号の抽出 - より広範囲なパターン
 [2m475[0m |       const phonePatterns = [
     : [31;1m      ^[0m
 [2m476[0m |         // フリーダイヤルパターン
 [2m477[0m |         /0120-[\d\-]+/,
 [2m478[0m |         // dt/dd構造
     `----

  [31mx[0m Expected ',', got ';'
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:530:1]
 [2m530[0m |       // 特殊処理は削除 - 実際の情報のみを抽出する
 [2m531[0m | 
 [2m532[0m |       return info;
 [2m533[0m |     };
     : [31;1m     ^[0m
 [2m534[0m | 
 [2m535[0m |     const companyInfo = extractInfo(html);
 [2m536[0m |     logger.info('Company info extracted via regex fallback:', companyInfo);
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./app/api/extract-company-info/route.ts
 ○ Compiling /_not-found ...
 ⨯ ./app/api/extract-company-info/route.ts
Error: 
  [31mx[0m A 'break' statement can only be used within an enclosing iteration or switch statement
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:466:1]
 [2m466[0m |                 }
 [2m467[0m |               }
 [2m468[0m |             }
 [2m469[0m |             break;
     : [31;1m            ^^^^^^[0m
 [2m470[0m |           }
 [2m471[0m |         }
 [2m472[0m |       }
     `----

  [31mx[0m Expected a semicolon
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:472:1]
 [2m472[0m |       }
 [2m473[0m | 
 [2m474[0m |       // 電話番号の抽出 - より広範囲なパターン
 [2m475[0m |       const phonePatterns = [
     : [31;1m      ^[0m
 [2m476[0m |         // フリーダイヤルパターン
 [2m477[0m |         /0120-[\d\-]+/,
 [2m478[0m |         // dt/dd構造
     `----

  [31mx[0m Expected ',', got ';'
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:530:1]
 [2m530[0m |       // 特殊処理は削除 - 実際の情報のみを抽出する
 [2m531[0m | 
 [2m532[0m |       return info;
 [2m533[0m |     };
     : [31;1m     ^[0m
 [2m534[0m | 
 [2m535[0m |     const companyInfo = extractInfo(html);
 [2m536[0m |     logger.info('Company info extracted via regex fallback:', companyInfo);
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./app/api/extract-company-info/route.ts
 ⨯ ./app/api/extract-company-info/route.ts
Error: 
  [31mx[0m A 'break' statement can only be used within an enclosing iteration or switch statement
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:466:1]
 [2m466[0m |                 }
 [2m467[0m |               }
 [2m468[0m |             }
 [2m469[0m |             break;
     : [31;1m            ^^^^^^[0m
 [2m470[0m |           }
 [2m471[0m |         }
 [2m472[0m |       }
     `----

  [31mx[0m Expected a semicolon
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:472:1]
 [2m472[0m |       }
 [2m473[0m | 
 [2m474[0m |       // 電話番号の抽出 - より広範囲なパターン
 [2m475[0m |       const phonePatterns = [
     : [31;1m      ^[0m
 [2m476[0m |         // フリーダイヤルパターン
 [2m477[0m |         /0120-[\d\-]+/,
 [2m478[0m |         // dt/dd構造
     `----

  [31mx[0m Expected ',', got ';'
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:530:1]
 [2m530[0m |       // 特殊処理は削除 - 実際の情報のみを抽出する
 [2m531[0m | 
 [2m532[0m |       return info;
 [2m533[0m |     };
     : [31;1m     ^[0m
 [2m534[0m | 
 [2m535[0m |     const companyInfo = extractInfo(html);
 [2m536[0m |     logger.info('Company info extracted via regex fallback:', companyInfo);
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./app/api/extract-company-info/route.ts
 POST /api/extract-company-info 500 in 3118ms
 ✓ Compiled /_error in 172ms (516 modules)
 ⨯ ./app/api/extract-company-info/route.ts
Error: 
  [31mx[0m Expected a semicolon
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:471:1]
 [2m471[0m |       }
 [2m472[0m | 
 [2m473[0m |       // 電話番号の抽出 - より広範囲なパターン
 [2m474[0m |       const phonePatterns = [
     : [31;1m      ^[0m
 [2m475[0m |         // フリーダイヤルパターン
 [2m476[0m |         /0120-[\d\-]+/,
 [2m477[0m |         // dt/dd構造
     `----

  [31mx[0m Expected ',', got ';'
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:529:1]
 [2m529[0m |       // 特殊処理は削除 - 実際の情報のみを抽出する
 [2m530[0m | 
 [2m531[0m |       return info;
 [2m532[0m |     };
     : [31;1m     ^[0m
 [2m533[0m | 
 [2m534[0m |     const companyInfo = extractInfo(html);
 [2m535[0m |     logger.info('Company info extracted via regex fallback:', companyInfo);
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./app/api/extract-company-info/route.ts
 ⨯ ./app/api/extract-company-info/route.ts
Error: 
  [31mx[0m Expected a semicolon
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:471:1]
 [2m471[0m |       }
 [2m472[0m | 
 [2m473[0m |       // 電話番号の抽出 - より広範囲なパターン
 [2m474[0m |       const phonePatterns = [
     : [31;1m      ^[0m
 [2m475[0m |         // フリーダイヤルパターン
 [2m476[0m |         /0120-[\d\-]+/,
 [2m477[0m |         // dt/dd構造
     `----

  [31mx[0m Expected ',', got ';'
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:529:1]
 [2m529[0m |       // 特殊処理は削除 - 実際の情報のみを抽出する
 [2m530[0m | 
 [2m531[0m |       return info;
 [2m532[0m |     };
     : [31;1m     ^[0m
 [2m533[0m | 
 [2m534[0m |     const companyInfo = extractInfo(html);
 [2m535[0m |     logger.info('Company info extracted via regex fallback:', companyInfo);
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./app/api/extract-company-info/route.ts
 ⨯ ./app/api/extract-company-info/route.ts
Error: 
  [31mx[0m Expected a semicolon
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:471:1]
 [2m471[0m |       }
 [2m472[0m | 
 [2m473[0m |       // 電話番号の抽出 - より広範囲なパターン
 [2m474[0m |       const phonePatterns = [
     : [31;1m      ^[0m
 [2m475[0m |         // フリーダイヤルパターン
 [2m476[0m |         /0120-[\d\-]+/,
 [2m477[0m |         // dt/dd構造
     `----

  [31mx[0m Expected ',', got ';'
     ,-[[36;1;4m/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/app/api/extract-company-info/route.ts[0m:529:1]
 [2m529[0m |       // 特殊処理は削除 - 実際の情報のみを抽出する
 [2m530[0m | 
 [2m531[0m |       return info;
 [2m532[0m |     };
     : [31;1m     ^[0m
 [2m533[0m | 
 [2m534[0m |     const companyInfo = extractInfo(html);
 [2m535[0m |     logger.info('Company info extracted via regex fallback:', companyInfo);
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./app/api/extract-company-info/route.ts
 POST /api/extract-company-info 500 in 129ms
 ○ Compiling /_error ...
 ✓ Compiled /_error in 139ms (474 modules)
 ✓ Compiled in 146ms (516 modules)
 ✓ Compiled /api/extract-company-info in 62ms (139 modules)
[2025-07-30T09:33:59.577Z] [INFO] Extracting company info from URL: https://abposter.jp/basic/tokusho.html
[2025-07-30T09:33:59.656Z] [DEBUG] HTML fetched successfully, length: 42637
[2025-07-30T09:33:59.656Z] [INFO] Skipping AI extraction, using regex fallback only 
[2025-07-30T09:33:59.658Z] [INFO] Company info extracted via regex fallback: {
  companyName: 'ポスター印刷のABポスター',
  companyNameKana: 'ポスター印刷ノエービーポスター',
  address: '〒169-0074東京都新宿区北新宿4-17-2',
  postalCode: '169-0074',
  prefecture: '東京都',
  city: '新宿区',
  address1: '北新宿4-17-2',
  phone: '0120-970-111',
  website: 'https://abposter.jp/basic/tokusho.html'
}
[2025-07-30T09:33:59.658Z] [DEBUG] 🔍 Contact info check (regex): {
  phone: '0120-970-111',
  fax: undefined,
  email: undefined,
  website: 'https://abposter.jp/basic/tokusho.html'
}
 POST /api/extract-company-info 200 in 174ms
[2025-07-30T09:34:23.150Z] [INFO] Extracting company info from URL: https://abposter.jp/basic/tokusho.html
[2025-07-30T09:34:23.227Z] [DEBUG] HTML fetched successfully, length: 42637
[2025-07-30T09:34:23.227Z] [INFO] Skipping AI extraction, using regex fallback only 
[2025-07-30T09:34:23.228Z] [INFO] Company info extracted via regex fallback: {
  companyName: 'ポスター印刷のABポスター',
  companyNameKana: 'ポスター印刷ノエービーポスター',
  address: '〒169-0074東京都新宿区北新宿4-17-2',
  postalCode: '169-0074',
  prefecture: '東京都',
  city: '新宿区',
  address1: '北新宿4-17-2',
  phone: '0120-970-111',
  website: 'https://abposter.jp/basic/tokusho.html'
}
[2025-07-30T09:34:23.228Z] [DEBUG] 🔍 Contact info check (regex): {
  phone: '0120-970-111',
  fax: undefined,
  email: undefined,
  website: 'https://abposter.jp/basic/tokusho.html'
}
 POST /api/extract-company-info 200 in 83ms
 ✓ Compiled in 235ms (516 modules)
 ✓ Compiled in 112ms (474 modules)
 ✓ Compiled in 106ms (474 modules)
 ✓ Compiled in 112ms (474 modules)
 ✓ Compiled in 104ms (474 modules)
 ✓ Compiled in 143ms (474 modules)
 ✓ Compiled in 109ms (474 modules)
 ✓ Compiled in 106ms (474 modules)
 ✓ Compiled in 178ms (474 modules)
 ✓ Compiled in 103ms (474 modules)
 ✓ Compiled in 118ms (474 modules)
 ✓ Compiled in 103ms (474 modules)
 ✓ Compiled in 182ms (474 modules)
 ✓ Compiled in 101ms (474 modules)
 ✓ Compiled in 102ms (474 modules)
 ✓ Compiled in 115ms (474 modules)
 ✓ Compiled in 103ms (474 modules)
 ✓ Compiled in 119ms (474 modules)
 ✓ Compiled in 126ms (474 modules)
 ✓ Compiled in 101ms (474 modules)
 ✓ Compiled in 158ms (474 modules)
 ✓ Compiled in 109ms (474 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, lstat '/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/.next/server/app'
<w> [webpack.cache.PackFileCacheStrategy/webpack.FileSystemInfo] Resolving '../../../../.next/server/app/api/extract-company-info/route' in /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/server for build dependencies doesn't lead to expected result '/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/.next/server/app/api/extract-company-info/route.js', but to 'Error: Can't resolve '../../../../.next/server/app/api/extract-company-info/route' in '/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/server'' instead. Resolving dependencies are ignored for this path.
<w>  at resolve commonjs file ../../../../.next/server/app/api/extract-company-info/route (expected /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/.next/server/app/api/extract-company-info/route.js)
<w>  at file dependencies /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/server/require.js
<w>  at file /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/server/require.js
<w>  at file dependencies /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/server/load-components.js
<w>  at file /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/server/load-components.js
<w>  at file dependencies /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/utils.js
<w>  at file /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/utils.js
<w>  at file dependencies /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/handle-externals.js
<w>  at file /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/handle-externals.js
<w>  at file dependencies /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/webpack/loaders/next-swc-loader.js
<w>  at file /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/webpack/loaders/next-swc-loader.js
<w>  at resolve commonjs /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/webpack/loaders/next-swc-loader.js
 ✓ Compiled in 199ms (474 modules)
 ✓ Compiled in 107ms (474 modules)
 ✓ Compiled in 107ms (474 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, lstat '/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/.next/server/app'
<w> [webpack.cache.PackFileCacheStrategy/webpack.FileSystemInfo] Resolving '../../../../.next/server/app/api/extract-company-info/route' in /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/server for build dependencies doesn't lead to expected result '/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/.next/server/app/api/extract-company-info/route.js', but to 'Error: Can't resolve '../../../../.next/server/app/api/extract-company-info/route' in '/Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/server'' instead. Resolving dependencies are ignored for this path.
<w>  at resolve commonjs file ../../../../.next/server/app/api/extract-company-info/route (expected /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/.next/server/app/api/extract-company-info/route.js)
<w>  at file dependencies /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/server/require.js
<w>  at file /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/server/require.js
<w>  at file dependencies /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/server/load-components.js
<w>  at file /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/server/load-components.js
<w>  at file dependencies /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/utils.js
<w>  at file /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/utils.js
<w>  at file dependencies /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/handle-externals.js
<w>  at file /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/handle-externals.js
<w>  at file dependencies /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/webpack/loaders/next-swc-loader.js
<w>  at file /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/webpack/loaders/next-swc-loader.js
<w>  at resolve commonjs /Users/tonychustudio/Documents/aam-orchestration/accounting-automation/node_modules/next/dist/build/webpack/loaders/next-swc-loader.js
 ✓ Compiled in 158ms (474 modules)
 ✓ Compiled in 111ms (474 modules)
 ✓ Compiled in 118ms (474 modules)
 ✓ Compiled in 98ms (474 modules)
 ✓ Compiled in 103ms (474 modules)
