<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å–¶æ¥­æ‹…å½“è€…ãƒ‡ãƒãƒƒã‚°ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
            background: #f5f5f5;
        }
        .debug-section {
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .debug-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            border-bottom: 2px solid #3b82f6;
            padding-bottom: 5px;
        }
        .debug-step {
            margin: 15px 0;
            padding: 15px;
            background: #f9fafb;
            border-left: 4px solid #3b82f6;
            border-radius: 4px;
        }
        .code-block {
            background: #1f2937;
            color: #f3f4f6;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 10px 0;
        }
        .highlight {
            background: #fbbf24;
            color: #1f2937;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }
        .success {
            color: #10b981;
            font-weight: bold;
        }
        .warning {
            color: #f59e0b;
            font-weight: bold;
        }
        .error {
            color: #ef4444;
            font-weight: bold;
        }
        .check-item {
            margin: 10px 0;
            padding: 10px;
            background: #f3f4f6;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .check-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>
    <h1>ğŸ” å–¶æ¥­æ‹…å½“è€…è¡¨ç¤ºãƒ‡ãƒãƒƒã‚°ã‚¬ã‚¤ãƒ‰</h1>
    
    <div class="debug-section">
        <div class="debug-title">ğŸ“Œ ç¾åœ¨ã®å•é¡Œ</div>
        <div class="check-item">
            <span class="error">âŒ</span>
            <span>é€ä¿¡è¨­å®šã‚¿ãƒ–ã§å–¶æ¥­æ‹…å½“è€…åã‚’å…¥åŠ›ã—ã¦ã‚‚ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«åæ˜ ã•ã‚Œãªã„</span>
        </div>
        <div class="check-item">
            <span class="warning">âš ï¸</span>
            <span>ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒåŸå› ã§ã‚³ãƒ¼ãƒ‰ã®ä¿®æ­£ãŒåæ˜ ã•ã‚Œã¦ã„ãªã„å¯èƒ½æ€§</span>
        </div>
    </div>

    <div class="debug-section">
        <div class="debug-title">ğŸ› ï¸ å®Ÿè£…æ¸ˆã¿ã®ä¿®æ­£å†…å®¹</div>
        
        <div class="debug-step">
            <strong>1. é€ä¿¡è¨­å®šã‚¿ãƒ–ã®åŒæœŸå‡¦ç†ï¼ˆè¡Œ931-934ï¼‰</strong>
            <div class="code-block">
onChange={(e) => {
  setStaffName(e.target.value);
  <span class="highlight">setEditedQuote({...editedQuote, assignee: e.target.value});</span>
}}
            </div>
            <p>âœ… staffNameã¨editedQuote.assigneeã®ä¸¡æ–¹ã‚’æ›´æ–°</p>
        </div>

        <div class="debug-step">
            <strong>2. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”Ÿæˆæ™‚ã®å„ªå…ˆé †ä½ï¼ˆè¡Œ118ï¼‰</strong>
            <div class="code-block">
assignee: <span class="highlight">staffName</span> || editedQuote.assignee || companyInfo?.representativeName
            </div>
            <p>âœ… staffNameã‚’æœ€å„ªå…ˆã§ä½¿ç”¨</p>
        </div>

        <div class="debug-step">
            <strong>3. ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã®è¿½åŠ ï¼ˆè¡Œ123-128ï¼‰</strong>
            <div class="code-block">
console.log('=== Preview Generation Debug ===');
console.log('staffName:', staffName);
console.log('editedQuote.assignee:', editedQuote.assignee);
console.log('Final assignee:', previewQuote.assignee);
            </div>
            <p>âœ… ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œã‚’ç¢ºèªå¯èƒ½</p>
        </div>
    </div>

    <div class="debug-section">
        <div class="debug-title">ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ‰‹é †</div>
        
        <div class="debug-step">
            <strong>Step 1: ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢</strong>
            <ol>
                <li>é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’é–‹ãï¼ˆF12 ã¾ãŸã¯å³ã‚¯ãƒªãƒƒã‚¯â†’æ¤œè¨¼ï¼‰</li>
                <li>Networkã‚¿ãƒ–ã«ç§»å‹•</li>
                <li>ã€ŒDisable cacheã€ã«ãƒã‚§ãƒƒã‚¯</li>
                <li><span class="highlight">Cmd + Shift + R</span>ï¼ˆMacï¼‰ã¾ãŸã¯<span class="highlight">Ctrl + Shift + R</span>ï¼ˆWindowsï¼‰ã§ãƒãƒ¼ãƒ‰ãƒªãƒ­ãƒ¼ãƒ‰</li>
            </ol>
        </div>

        <div class="debug-step">
            <strong>Step 2: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã‚’ç¢ºèª</strong>
            <ol>
                <li>é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã®Consoleã‚¿ãƒ–ã‚’é–‹ã</li>
                <li>HTMLè¦‹ç©æ›¸ã‚¨ãƒ‡ã‚£ã‚¿ã‚’é–‹ã</li>
                <li>é€ä¿¡è¨­å®šã‚¿ãƒ–ã§å–¶æ¥­æ‹…å½“è€…åã‚’å…¥åŠ›</li>
                <li>ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆ</li>
                <li>ä»¥ä¸‹ã®ãƒ­ã‚°ã‚’ç¢ºèªï¼š
                    <div class="code-block">
=== Preview Generation Debug ===
staffName: [å…¥åŠ›ã—ãŸå€¤]
editedQuote.assignee: [å…¥åŠ›ã—ãŸå€¤]
Final assignee: [å…¥åŠ›ã—ãŸå€¤]
                    </div>
                </li>
            </ol>
        </div>

        <div class="debug-step">
            <strong>Step 3: é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®å†èµ·å‹•</strong>
            <div class="code-block">
# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œ
Ctrl + C  # ã‚µãƒ¼ãƒãƒ¼åœæ­¢
rm -rf .next  # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
npm run dev  # ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•
            </div>
        </div>

        <div class="debug-step">
            <strong>Step 4: ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ©ã‚¦ã‚¸ãƒ³ã‚°ã§ç¢ºèª</strong>
            <ol>
                <li>ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ/ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ã</li>
                <li>http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹</li>
                <li>HTMLè¦‹ç©æ›¸ã‚¨ãƒ‡ã‚£ã‚¿ã§å‹•ä½œç¢ºèª</li>
            </ol>
        </div>
    </div>

    <div class="debug-section">
        <div class="debug-title">âœ… ç¢ºèªãƒã‚¤ãƒ³ãƒˆ</div>
        
        <div class="check-item">
            <span class="check-icon">â˜</span>
            <span>åŸºæœ¬æƒ…å ±ã‚¿ãƒ–ã®ã€Œæ‹…å½“è€…åã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å…¥åŠ› â†’ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«åæ˜ ã•ã‚Œã‚‹</span>
        </div>
        <div class="check-item">
            <span class="check-icon">â˜</span>
            <span>é€ä¿¡è¨­å®šã‚¿ãƒ–ã®ã€Œé€ä¿¡è€…åï¼ˆæ‹…å½“è€…ï¼‰ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å…¥åŠ› â†’ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«åæ˜ ã•ã‚Œã‚‹</span>
        </div>
        <div class="check-item">
            <span class="check-icon">â˜</span>
            <span>ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã€Œè¦‹ç©å…ƒã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã€Œæ‹…å½“è€…: [åå‰]ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹</span>
        </div>
        <div class="check-item">
            <span class="check-icon">â˜</span>
            <span>Webæœ€é©åŒ–ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§æ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹</span>
        </div>
    </div>

    <div class="debug-section">
        <div class="debug-title">ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ</div>
        <div style="padding: 15px; background: #ecfdf5; border: 1px solid #10b981; border-radius: 6px;">
            <p><strong>æ­£å¸¸å‹•ä½œæ™‚ã®ãƒ•ãƒ­ãƒ¼ï¼š</strong></p>
            <ol style="margin: 10px 0;">
                <li>é€ä¿¡è¨­å®šã‚¿ãƒ–ã§ã€Œç”°ä¸­å¤ªéƒã€ã¨å…¥åŠ›</li>
                <li>è‡ªå‹•çš„ã«<code>staffName</code>ã¨<code>editedQuote.assignee</code>ãŒã€Œç”°ä¸­å¤ªéƒã€ã«æ›´æ–°</li>
                <li>ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆ</li>
                <li>ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®è¦‹ç©å…ƒã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã€Œæ‹…å½“è€…: ç”°ä¸­å¤ªéƒã€ã¨è¡¨ç¤º</li>
            </ol>
        </div>
    </div>

    <div class="debug-section">
        <div class="debug-title">ğŸš¨ ãã‚Œã§ã‚‚å‹•ä½œã—ãªã„å ´åˆ</div>
        <div style="padding: 15px; background: #fef2f2; border: 1px solid #ef4444; border-radius: 6px;">
            <p>ä»¥ä¸‹ã®æƒ…å ±ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š</p>
            <ul>
                <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãªã„ã‹</li>
                <li>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ãƒ–ã§404ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ãªã„ã‹</li>
                <li>æ­£ã—ã„ãƒãƒ¼ãƒˆï¼ˆ3000ã¾ãŸã¯3002ï¼‰ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹ã‹</li>
                <li>package.jsonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒæœ€æ–°ã‹</li>
            </ul>
        </div>
    </div>
</body>
</html>